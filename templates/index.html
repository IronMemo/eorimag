<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cod EORI România | EORIMAG – Simplu, 100% online</title>

  <meta name="description" content="Aplică online pentru codul EORI (persoane fizice și juridice). Completezi formularul, atașezi actele și semnezi digital. Primești confirmarea pe email.">
  <meta name="robots" content="index, follow">

  <!-- OG / Social -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Cod EORI România | Aplică Online">
  <meta property="og:description" content="Aplică online pentru codul EORI. Formular simplu, suport prin email.">
  <meta property="og:image" content="https://www.eori49.pro/static/og-eori49.png">
  <meta property="og:url" content="https://www.eorimag.ro/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Cod EORI România | Aplică Online">
  <meta name="twitter:description" content="Aplică online pentru codul EORI. Formular simplu, suport prin email.">
  <meta name="twitter:image" content="https://www.eori49.pro/static/og-eori49.png">

  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo-eorimag.png') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <style>
    body{
      background:#1f1f1f;
      color:#fff;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    }

    .sticky-topbar{
      position:sticky;
      top:0;
      z-index:999;
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      background:#1f1f1f;
      border-bottom:1px solid #2a2a2a;
      padding:8px 12px;
      font-size:.9rem;
    }
    .topbar-link{
      color:#fff;
      text-decoration:none;
      padding:4px 0;
      font-weight:500;
      white-space:nowrap;
    }
    .topbar-link:hover{color:#60a5fa;}

    header{
      max-width:1200px;
      margin:16px auto 24px;
      padding:0 16px;
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:16px;
    }
    .logo-left img{
      max-height:48px;
      height:auto;
      width:auto;
    }

    .layout-two-col{
      max-width:1200px;
      margin:0 auto;
      padding:16px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:24px;
    }
    @media (max-width:900px){
      .layout-two-col{
        grid-template-columns:1fr;
      }
    }

    /* cardul informativ din stânga */
    .left-info{
      background:#0f3db4;
      color:#fff;
      border-radius:12px;
      border:1px solid #1d4ed8;
      box-shadow:0 10px 20px #0009;
      padding:16px 20px 20px;
    }
    @media (max-width:900px){
      .left-info{
        order:2;
      }
    }
    .left-info h1{
      font-size:2rem;
      font-weight:700;
      line-height:1.1;
      color:#fff;
      margin:0 0 12px;
    }
    .left-info .tagline{
      font-size:1rem;
      line-height:1.4;
      color:#fff;
      margin:0 0 16px;
    }
    .left-info ul{
      padding-left:20px;
      margin:0;
      color:#fff;
      line-height:1.5;
      font-size:.95rem;
    }
    .left-info li{
      margin-bottom:6px;
    }

    /* formularul din dreapta */
    .right-form{
      background:#1f1f1f;
      border:1px solid #2a2a2a;
      border-radius:12px;
      padding:16px;
      box-shadow:0 10px 20px #0009;
    }
    @media (max-width:900px){
      .right-form{
        order:1;
      }
    }

    .service-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      margin-bottom:16px;
    }
    @media (max-width:480px){
      .service-grid{grid-template-columns:1fr;}
    }
    .service-card{
      width:100%;
      text-align:left;
      border:1px solid #444;
      background:#1f1f1f;
      border-radius:10px;
      padding:12px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:4px;
      transition:all .15s;
      font-size:.9rem;
      line-height:1.3;
      color:#fff;
    }
    .service-card .title{font-weight:600;color:#fff;}
    .service-card .price{font-weight:500;color:#60a5fa;}
    .service-card.selected{
      border-color:#2563eb;
      box-shadow:0 0 0 2px #1d4ed8;
      background:#0f172a;
    }

    .form-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width:600px){
      .form-grid{grid-template-columns:1fr;}
    }
    label{
      font-size:.9rem;
      font-weight:600;
      color:#fff;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="file"],
    input[name="cnp_cui"]{
      width:100%;
      border:1px solid #444;
      background:#1f1f1f;
      color:#fff;
      border-radius:8px;
      padding:10px 12px;
      font-size:.9rem;
      font-family:inherit;
    }
    input::placeholder{
      color:#777;
    }

    .signature-block{
      margin-top:16px;
      color:#fff;
    }
    .sig-header{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .sig-header strong{
      font-size:.9rem;
      color:#fff;
    }
    .sig-header .muted{
      font-size:.8rem;
      color:#aaa;
      font-weight:400;
    }
    .sig-wrap{
      border:1px solid #444;
      border-radius:8px;
      padding:8px;
      background:#1f1f1f;
      margin-top:8px;
    }
    .sig-actions{
      margin-top:8px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .sig-actions .secondary{
      padding:8px 10px;
      border-radius:6px;
      border:1px solid #555;
      background:#2a2a2a;
      color:#fff;
      cursor:pointer;
      font-size:.8rem;
    }

    #payBtn{
      width:100%;
      background:#2563eb;
      color:#fff;
      border:none;
      border-radius:8px;
      padding:12px 16px;
      font-size:1rem;
      font-weight:600;
      cursor:pointer;
    }
    #payBtn:active{transform:scale(.99);}

    .secondary-box{
      font-size:.85rem;
      background:#1f1f1f;
      color:#fff;
      border:1px solid #444;
      border-radius:8px;
    }

    .terms-box a{
      color:#60a5fa;
      text-decoration:none;
      font-weight:500;
    }
    .terms-box{
      color:#ccc !important;
    }
    .terms-box label{
      color:#ccc !important;
      font-weight:400;
    }
    .terms-box input[type="checkbox"]{
      accent-color:#2563eb;
    }

    .reviews-section{
      max-width:1200px;
      margin:40px auto 24px;
      padding:0 16px;
      color:#fff;
    }
    .reviews-section h2{
      font-size:1.2rem;
      font-weight:700;
      margin-bottom:16px;
      color:#fff;
    }
    .reviews-container{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(min(260px,100%),1fr));
      gap:16px;
    }
    .review{
      border:1px solid #2a2a2a;
      border-radius:10px;
      background:#1f1f1f;
      padding:12px;
      font-size:.9rem;
      line-height:1.4;
      box-shadow:0 2px 8px #000c;
      color:#fff;
    }
    .review-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-weight:600;
      margin-bottom:8px;
      color:#fff;
    }
    .review-name{color:#fff;}
    .review-stars{color:#facc15; font-size:.9rem;}

    .info-section{
      max-width:900px;
      margin:24px auto;
      padding:0 16px;
      font-size:.95rem;
      line-height:1.5;
      color:#fff;
    }
    .info-section h3{
      font-size:1.1rem;
      font-weight:700;
      margin-bottom:8px;
      color:#fff;
      line-height:1.3;
    }
    .info-section ol,
    .info-section ul{
      padding-left:20px;
      margin:8px 0;
    }
    .info-section li{
      margin-bottom:4px;
    }

    .faq-section{
      max-width:960px;
      margin:40px auto;
      padding:0 16px;
      border-top:1px solid #2a2a2a;
      color:#fff;
    }
    .faq-title{
      font-size:1.2rem;
      font-weight:700;
      margin-bottom:16px;
      text-align:center;
      color:#fff;
    }
    .faq-item{
      border-bottom:1px solid #2a2a2a;
      padding:0;
    }
    .faq-question{
      width:100%;
      text-align:left;
      background:none;
      border:0;
      padding:14px 8px;
      font-size:.95rem;
      line-height:1.4;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:10px;
      justify-content:space-between;
      font-weight:600;
      color:#fff;
    }
    .faq-answer{
      padding:0 8px 12px;
      font-size:.9rem;
      color:#ccc;
      line-height:1.4;
    }
    .faq-answer ul{margin:6px 0 6px 18px;}
    .faq-answer li{margin:4px 0;}
    .faq-arrow{transition: transform .25s ease; color:#fff;}
    .faq-item.open .faq-arrow{transform: rotate(90deg);}

    footer{
      max-width:1200px;
      padding:0 16px 40px;
      margin:40px auto 0;
      font-size:.85rem;
      color:#aaa;
      line-height:1.4;
    }
    footer hr{
      border:0;
      border-top:1px solid #2a2a2a;
      margin-bottom:16px;
    }
    .footer-bar-custom{
      display:flex;
      flex-wrap:wrap;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      margin-top:16px;
    }
    .footer-links{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .footer-links a{
      color:#60a5fa;
      text-decoration:none;
      font-weight:500;
      font-size:.9rem;
    }
    .footer-images-bar{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      justify-content:flex-end;
    }
    .footer-images-bar img{
      max-height:40px;
      width:auto;
      display:block;
      background:#fff;
      border-radius:4px;
      padding:4px;
    }

    #sigpad{
      width:100%;
      height:200px;
      touch-action:none;
      display:block;
      background:#0a0a0a;
      border-radius:6px;
    }

    #msg{
      font-size:.85rem;
      min-height:1.2em;
      color:#f87171;
    }
  </style>
</head>
<body>

  <!-- top nav -->
  <div class="sticky-topbar" role="navigation" aria-label="Navigație în pagină">
    <a href="#ce-este" class="topbar-link">Ce este codul EORI?</a>
    <a href="#procedura" class="topbar-link">Procedura EORI</a>
    <a href="#documente" class="topbar-link">Documente necesare</a>
    <a href="#faq" class="topbar-link">Întrebări frecvente</a>
    <a href="#faq" class="topbar-link">Contact</a>
  </div>

  <!-- header simplu, doar logo sus-stânga -->
  <header>
    <div class="logo-left">
      <img src="{{ url_for('static', filename='logo-eorimag.png') }}" alt="EORIMAG" class="responsive-logo" loading="lazy">
    </div>
    <nav aria-label="Principal"></nav>
  </header>

  <!-- layout 2 coloane -->
  <div class="layout-two-col">
    <!-- Coloana stângă (card informativ) -->
    <aside class="left-info">
      <!-- LOGO-UL DUBLU A FOST SCOS -->
      <h1>Simplu <br>100% online</h1>
      <p class="tagline">
        Completezi formularul, atașezi actele și semnezi — noi depunem solicitarea la autoritatea vamală. Primești confirmarea pe email.
      </p>
      <ul>
        <li>Termen eliberare 1–3 zile</li>
        <li>Semnătură digitală în pagină</li>
        <li>Plată securizată prin Stripe</li>
        <li>Suport prin email</li>
        <li>Procesarea este realizată de autoritatea vamală, timpii pot varia</li>
      </ul>
    </aside>

    <!-- Coloana dreaptă (formular Stripe-ready) -->
    <main class="right-form">
      <form id="orderForm" enctype="multipart/form-data" novalidate>
        <!-- Servicii -->
        <div class="service-grid" id="serviceGrid" role="radiogroup" aria-label="Alege serviciul">
          <input type="hidden" name="service_key" id="service_key" value="eori_ro">
          <button type="button" class="service-card selected" data-key="eori_ro" aria-pressed="true">
            <span class="title">Obținere cod EORI: Persoană Fizică</span>
            <span class="price">75 RON</span>
          </button>
          <button type="button" class="service-card" data-key="eori_update" aria-pressed="false">
            <span class="title">Obținere cod EORI: Persoană Juridică</span>
            <span class="price">99 RON</span>
          </button>
        </div>

        <!-- Date solicitant -->
        <div class="grid form-grid">
          <label>Nume și prenume*
            <input name="full_name" placeholder="Ex. Popescu Andrei" required>
          </label>
          <label>Companie (opțional)
            <input name="company" placeholder="Ex. SC Exemplu SRL">
          </label>
          <label>Email*
            <input type="email" name="email" placeholder="adresa@exemplu.ro" required>
          </label>
          <label>Telefon*
            <input type="tel" name="phone" placeholder="07xx xxx xxx" required>
          </label>
        </div>

        <label>CNP/CUI*
          <input name="cnp_cui" required>
        </label>

        <!-- Semnătură -->
        <div class="signature-block">
          <div class="sig-header">
            <strong>Semnătură *</strong>
            <span class="muted">Semnează cu mouse-ul sau degetul (pe telefon)</span>
          </div>
          <div class="sig-wrap">
            <canvas id="sigpad"></canvas>
          </div>
          <div class="sig-actions">
            <button type="button" id="sigClear" class="secondary">Șterge semnătura</button>
            <button type="button" id="sigUndo" class="secondary">Undo</button>
          </div>
          <input type="hidden" name="signature_data" id="signature_data" required>
        </div>

        <!-- Upload documente -->
        <div class="uploads" style="margin-top:12px">
          <div>
            <span style="color:#fff;font-size:.9rem;font-weight:600;">Carte de identitate – față (JPG/PNG/PDF) *</span>
            <input type="file" name="id_front" accept=".pdf,.jpg,.jpeg,.png" required>
          </div>
          <div>
            <span style="color:#fff;font-size:.9rem;font-weight:600;">Carte de identitate – verso (opțional)</span>
            <input type="file" name="id_back" accept=".pdf,.jpg,.jpeg,.png">
          </div>
        </div>

        <!-- Total + Termeni + Submit -->
        <div style="display:flex; flex-direction:column; gap:12px; margin-top:12px;">

          <!-- total -->
          <div style="display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
            <div id="totalBox" class="secondary-box" style="padding:10px 12px; border-radius:8px; border:1px solid #444;">
              <strong>Total estimat:</strong> <span id="totalVal">—</span>
            </div>
          </div>

          <!-- checkbox termeni -->
          <div class="terms-box" style="font-size:0.9rem; line-height:1.4; display:flex; align-items:flex-start; gap:8px;">
            <input
              type="checkbox"
              id="accept_terms"
              name="accept_terms"
              required
              style="margin-top:3px; flex-shrink:0;"
            >
            <label for="accept_terms" style="cursor:pointer;">
              Confirm că am citit și sunt de acord cu
              <a href="/termeni" target="_blank">Termenii și Condițiile</a>,
              și sunt de acord ca datele mele personale și documentele încărcate să fie folosite pentru depunerea solicitării mele de cod EORI la autoritatea vamală.
            </label>
          </div>

          <!-- buton trimite -->
          <div>
            <button type="submit" id="payBtn">Trimite solicitarea</button>
          </div>
        </div>

        <p id="msg" class="muted"></p>
      </form>
    </main>
  </div>

  <!-- review-uri -->
  <section id="recenzii" class="reviews-section" aria-labelledby="recenzii-titlu">
    <h2 id="recenzii-titlu">Ce spun clienții noștri</h2>
    <div class="reviews-container">
      <article class="review" aria-label="Recenzie Ana M.">
        <div class="review-header"><span class="review-name">Ana M.</span><span class="review-stars" aria-label="5 din 5">★★★★★</span></div>
        <p>Foarte rapid și profesional! Am obținut codul EORI fără bătăi de cap. Recomand!</p>
      </article>
      <article class="review" aria-label="Recenzie Mihai T.">
        <div class="review-header"><span class="review-name">Mihai T.</span><span class="review-stars" aria-label="5 din 5">★★★★★</span></div>
        <p>Echipa a răspuns prompt la întrebări. Mulțumesc!</p>
      </article>
      <article class="review" aria-label="Recenzie Elena S.">
        <div class="review-header"><span class="review-name">Elena S.</span><span class="review-stars" aria-label="5 din 5">★★★★★</span></div>
        <p>Platformă intuitivă, totul a mers lin. Revin cu plăcere!</p>
      </article>
      <article class="review" aria-label="Recenzie Vasile D.">
        <div class="review-header"><span class="review-name">Vasile D.</span><span class="review-stars" aria-label="5 din 5">★★★★★</span></div>
        <p>Serviciu excelent. Recomand tuturor care au nevoie de cod EORI.</p>
      </article>
      <article class="review" aria-label="Recenzie Ioana G.">
        <div class="review-header"><span class="review-name">Ioana G.</span><span class="review-stars" aria-label="5 din 5">★★★★★</span></div>
        <p>Foarte mulțumită, explicații clare și suport la fiecare pas.</p>
      </article>
      <article class="review" aria-label="Recenzie Cristian P.">
        <div class="review-header"><span class="review-name">Cristian P.</span><span class="review-stars" aria-label="4 din 5">★★★★☆</span></div>
        <p>A durat puțin mai mult decât mă așteptam, dar comunicarea a fost excelentă.</p>
      </article>
    </div>
  </section>

  <!-- text info -->
  <section class="info-section">
    <h3>Obținere Cod EORI – Rapid, Online și Fără Bătăi de Cap</h3>
    <p>Dacă ai nevoie de <strong>cod EORI</strong> pentru ridicarea unui colet sau pentru import/export, ești în locul potrivit. La EORIMAG, <strong>procesul de aplicare</strong> este simplu și 100% online.</p>
    <p>Completezi <strong>formularul online</strong>, iar noi ne ocupăm de restul. Fie că ești <strong>persoană fizică</strong> sau <strong>juridică</strong>, oferim <strong>suport</strong> la fiecare pas.</p>
    <p><strong>EORI în România</strong> nu trebuie să fie complicat. Cu EORIMAG, obții codul pentru import sau export fără drumuri și fără stres.</p>
  </section>

  <section id="ce-este" class="info-section">
    <h3>Ce este codul EORI și la ce se folosește?</h3>
    <p>Codul EORI este un număr unic atribuit de autoritățile vamale din UE operatorilor economici și, în alte cazuri, persoanelor fizice. Îl vei folosi la importul/exportul de bunuri din/în afara UE.</p>
  </section>

  <section id="procedura" class="info-section">
    <h3>Procedura EORI</h3>
    <ol>
      <li>Completezi formularul și atașezi documentele necesare.</li>
      <li>Noi redactăm cererea și pregătim dosarul.</li>
      <li>Primești cererea pe email pentru semnare și trimitere.</li>
      <li>Primești codul EORI pe email.</li>
    </ol>
  </section>

  <section id="documente" class="info-section">
    <h3>Documente necesare</h3>
    <div style="margin-bottom:14px;">
      <strong>Pentru persoană fizică:</strong>
      <ul><li>Carte de Identitate</li></ul>
    </div>
    <div>
      <strong>Pentru firmă înregistrată în România:</strong>
      <ul>
        <li>CI Administrator</li>
        <li>Certificat de Înregistrare (CUI)</li>
        <li>Certificat de TVA (dacă este cazul)</li>
      </ul>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="faq-section" aria-labelledby="faq-titlu">
    <div class="faq-title" id="faq-titlu">Întrebări frecvente</div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Am nevoie de EORI pentru colete personale? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Da, atunci când vama îl solicită pentru vămuirea unui colet sosit din afara UE.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        În cât timp se obține codul EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>De regulă 0–3 zile lucrătoare; procesarea finală este la autoritatea vamală și poate varia în funcție de volum.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Este valabil în toată UE? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Da. După emitere, EORI este valabil în toate statele membre UE.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Mă ajutați și cu actualizarea unui EORI existent? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Da. Îți indicăm documentele și pașii necesari pentru actualizare.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Ce se întâmplă dacă nu am un Cod EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Dacă ți-a venit în vamă un colet din afara U.E. și nu ai un cod EORI, marfa nu va putea ieși din vamă. Pot apărea costuri de depozitare până la prezentarea codului.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Am nevoie de Cod EORI dacă sunt plătitor de TVA? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Da. Chiar dacă ești plătitor de TVA, pentru operațiuni de import/export ai nevoie de un cod EORI.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Când trebuie să aplici pentru un Cod EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>La export – înainte de expedierea bunurilor. La import – când bunurile ajung în România, pentru plata taxelor vamale.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Cine are nevoie de un Cod EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Persoane fizice și firme care importă din afara UE sau exportă din UE către țări non-UE. Plata taxelor vamale se face în baza codului EORI.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        De ce acte ai nevoie pentru a obține un Cod EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden>
        <p><strong>Pentru persoane fizice:</strong></p>
        <ul>
          <li>Copie buletin (cetățeni români)</li>
          <li>Permis de ședere / Certificat de Înregistrare care atestă domiciliul în RO (cetățeni străini)</li>
        </ul>
        <p><strong>Pentru persoane juridice:</strong></p>
        <ul>
          <li>Certificat de Înregistrare (CUI)</li>
          <li>Act constitutiv (pentru SRL)</li>
          <li>Certificat de înregistrare TVA (dacă e cazul)</li>
          <li>Rezoluție/Încheiere ONRC (pentru PFA)</li>
          <li>Certificat în Registrul Asociațiilor și Fundațiilor (pentru asociații)</li>
        </ul>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Cât timp este valabil numărul EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>PF: până la 10 ani, dar nu peste valabilitatea CI. PJ: în principiu, nelimitat, cât timp datele sunt actuale.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Ce fac atunci când Codul EORI expiră? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Se prelungește printr-o procedură similară cu actualizarea datelor. Te putem ajuta cu prelungirea.</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Când trebuie să actualizez datele EORI? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Ori de câte ori se schimbă datele personale sau ale firmei (nume, adresă, sediu, CAEN etc.).</p></div>
    </div>

    <div class="faq-item">
      <button class="faq-question" type="button" aria-expanded="false">
        Pot obține un EORI pentru o sucursală sau filială? <span class="faq-arrow" aria-hidden="true">▶</span>
      </button>
      <div class="faq-answer" hidden><p>Pentru sucursale/filiale se aplică proceduri distincte; nu se emite EORI standard ca pentru entitatea principală.</p></div>
    </div>
  </section>

  <footer>
    <hr>
    <div class="footer-bar-custom">
      <div class="footer-links">
        <a href="/termeni">Termeni și condiții</a>
        <a href="/politica-confidentialitate">Politica de confidențialitate</a>
      </div>
      <div class="footer-images-bar">
        <a href="https://reclamatiisal.anpc.ro/" target="_blank" rel="noopener">
          <img src="{{ url_for('static', filename='imagine1.png') }}" alt="Platforma ANPC" loading="lazy">
        </a>
        <a href="https://ec.europa.eu/consumers/odr/main/index.cfm?event=main.home2.show&lng=RO" target="_blank" rel="noopener">
          <img src="{{ url_for('static', filename='imagine2.png') }}" alt="Platforma SOL (ODR) a UE" loading="lazy">
        </a>
      </div>
    </div>
  </footer>

  <!-- ====== SCRIPT FRONTEND ====== -->
  <script>
    // --- Selectarea serviciului + total ---
    const serviceGrid  = document.getElementById('serviceGrid');
    const serviceKeyEl = document.getElementById('service_key');
    const totalVal     = document.getElementById('totalVal');

    const PRICE_LABELS = {
      eori_ro:     '75 RON',
      eori_update: '99 RON',
      gb_eori:     '149 RON',
      resend:      '49 RON'
    };

    function updateTotalFromKey(key){
      totalVal.textContent = PRICE_LABELS[key] || '—';
      totalVal.style.opacity = '0.3';
      requestAnimationFrame(() => { totalVal.style.opacity = '1'; });
    }

    updateTotalFromKey(serviceKeyEl.value || 'eori_ro');

    serviceGrid.addEventListener('click', (e) => {
      const btn = e.target.closest('.service-card');
      if (!btn) return;

      document.querySelectorAll('.service-card').forEach(b => {
        b.classList.remove('selected');
        b.setAttribute('aria-pressed', 'false');
      });

      btn.classList.add('selected');
      btn.setAttribute('aria-pressed', 'true');

      const key = btn.dataset.key;
      serviceKeyEl.value = key;
      updateTotalFromKey(key);
    });

    // --- Semnătură pe canvas (custom) ---
    const canvas = document.getElementById('sigpad');
    const ctx = canvas.getContext('2d');
    let drawing = false;
    let strokes = [];
    let currentStroke = [];

    function resizeSigCanvas(){
      const dpr  = window.devicePixelRatio || 1;
      const rect = canvas.getBoundingClientRect();
      if (!canvas.style.width)  canvas.style.width  = '100%';
      if (!canvas.style.height) canvas.style.height = '200px';

      const cssWidth  = rect.width  || canvas.clientWidth  || 600;
      const cssHeight = rect.height || canvas.clientHeight || 200;

      canvas.width  = Math.max(1, Math.round(cssWidth  * dpr));
      canvas.height = Math.max(1, Math.round(cssHeight * dpr));

      ctx.setTransform(1, 0, 0, 1, 0, 0);
      ctx.scale(dpr, dpr);
      redraw();
    }

    function getPos(evt) {
      const rect = canvas.getBoundingClientRect();
      const t = evt.touches ? evt.touches[0] : evt;
      return {
        x: (t.clientX - rect.left),
        y: (t.clientY - rect.top)
      };
    }

    function redraw() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.lineWidth = 2 * (window.devicePixelRatio || 1);
      ctx.lineJoin = 'round';
      ctx.lineCap  = 'round';
      ctx.strokeStyle = '#fff';
      strokes.forEach(st => {
        ctx.beginPath();
        st.forEach((p,i) => {
          if (i===0) ctx.moveTo(p.x,p.y); else ctx.lineTo(p.x,p.y);
        });
        ctx.stroke();
      });
    }

    function startDraw(evt) {
      drawing = true;
      currentStroke = [];
      const p = getPos(evt);
      currentStroke.push(p);
      evt.preventDefault();
    }
    function moveDraw(evt) {
      if (!drawing) return;
      const p = getPos(evt);
      currentStroke.push(p);
      redraw();
      ctx.lineWidth = 2 * (window.devicePixelRatio || 1);
      ctx.beginPath();
      currentStroke.forEach((p,i)=>{ if(i===0) ctx.moveTo(p.x,p.y); else ctx.lineTo(p.x,p.y); });
      ctx.stroke();
      evt.preventDefault();
    }
    function endDraw(evt) {
      if (!drawing) return;
      drawing = false;
      if (currentStroke.length > 1) {
        strokes.push(currentStroke);
        redraw();
      }
      evt && evt.preventDefault();
    }

    canvas.addEventListener('mousedown', startDraw);
    canvas.addEventListener('mousemove', moveDraw);
    window.addEventListener('mouseup', endDraw);
    canvas.addEventListener('touchstart', startDraw, {passive:false});
    canvas.addEventListener('touchmove',  moveDraw,  {passive:false});
    canvas.addEventListener('touchend',   endDraw);

    document.getElementById('sigClear').addEventListener('click', () => {
      strokes = [];
      redraw();
    });
    document.getElementById('sigUndo').addEventListener('click', () => {
      strokes.pop();
      redraw();
    });

    function canvasToDataURL() {
      if (!strokes.length) return '';
      return canvas.toDataURL('image/png');
    }

    resizeSigCanvas();
    window.addEventListener('resize', resizeSigCanvas);

    // --- Submit către backend /create-checkout ---
    const form = document.getElementById('orderForm');
    const msg = document.getElementById('msg');
    const sigHidden = document.getElementById('signature_data');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.textContent = '';

      sigHidden.value = canvasToDataURL();

      const fd = new FormData(form);
      try {
        const resp = await fetch('/create-checkout', { method: 'POST', body: fd });
        const data = await resp.json();
        if (!resp.ok || !data.checkout_url) {
          throw new Error(data.error || 'Eroare la inițierea plății.');
        }
        window.location.href = data.checkout_url;
      } catch (err) {
        msg.textContent = err.message || 'A apărut o eroare. Reîncearcă.';
      }
    });

    // === FAQ accordion ===
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.faq-item').forEach(function(item){
        const btn = item.querySelector('.faq-question');
        const ans = item.querySelector('.faq-answer');
        btn.addEventListener('click', function(){
          const open = btn.getAttribute('aria-expanded') === 'true';
          document.querySelectorAll('.faq-item .faq-answer').forEach(a => a.hidden = true);
          document.querySelectorAll('.faq-item .faq-question').forEach(b => b.setAttribute('aria-expanded','false'));
          document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('open'));
          if (!open) { btn.setAttribute('aria-expanded', 'true'); ans.hidden = false; item.classList.add('open'); }
        });
      });
    });
  </script>

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "EORIMAG",
    "url": "https://www.eorimag.ro/",
    "logo": "https://www.eorimag.ro/static/logo-eorimag.png",
    "sameAs": []
  }
  </script>

  <!-- JSON-LD: FAQ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Am nevoie de EORI pentru colete personale?","acceptedAnswer":{"@type":"Answer","text":"Da, atunci când vama îl solicită pentru vămuirea unui colet din afara UE."}},
      {"@type":"Question","name":"În cât timp se obține codul EORI?","acceptedAnswer":{"@type":"Answer","text":"De regulă 0–3 zile lucrătoare; procesarea finală este la autoritatea vamală și poate varia în funcție de volum."}},
      {"@type":"Question","name":"Este valabil în toată UE?","acceptedAnswer":{"@type":"Answer","text":"Da. După emitere, EORI este valabil în toate statele membre UE."}},
      {"@type":"Question","name":"Mă ajutați și cu actualizarea unui EORI existent?","acceptedAnswer":{"@type":"Answer","text":"Da. Îți indicăm documentele și pașii necesari pentru actualizare."}},
      {"@type":"Question","name":"Ce se întâmplă dacă nu am un Cod EORI?","acceptedAnswer":{"@type":"Answer","text":"Dacă ți-a venit în vamă un colet din afara U.E. și nu ai un cod EORI, marfa nu va putea ieși din vamă. Pot apărea costuri de depozitare până la prezentarea codului."}},
      {"@type":"Question","name":"Am nevoie de Cod EORI dacă sunt plătitor de TVA?","acceptedAnswer":{"@type":"Answer","text":"Da. Chiar dacă ești plătitor de TVA, pentru operațiuni de import/export ai nevoie de un cod EORI."}},
      {"@type":"Question","name":"Când trebuie să aplici pentru un Cod EORI?","acceptedAnswer":{"@type":"Answer","text":"La export – înainte de expedierea bunurilor. La import – când bunurile ajung în România, pentru plata taxelor vamale."}},
      {"@type":"Question","name":"Cine are nevoie de un Cod EORI?","acceptedAnswer":{"@type":"Answer","text":"Persoane fizice și firme care importă din afara UE sau exportă din UE către țări non-UE. Plata taxelor vamale se face în baza codului EORI."}},
      {"@type":"Question","name":"De ce acte ai nevoie pentru a obține un Cod EORI?","acceptedAnswer":{"@type":"Answer","text":"Persoane fizice: copie buletin (cetățeni români); permis de ședere/certificat de înregistrare cu domiciliu în RO (cetățeni străini). Persoane juridice: CUI, act constitutiv (SRL), certificat TVA (dacă e cazul), rezoluție ONRC (PFA), certificat în Registrul Asociațiilor și Fundațiilor (asociații)."}},
      {"@type":"Question","name":"Cât timp este valabil numărul EORI?","acceptedAnswer":{"@type":"Answer","text":"PF: până la 10 ani, dar nu peste valabilitatea CI. PJ: în principiu, nelimitat, cât timp datele sunt actuale."}},
      {"@type":"Question","name":"Ce fac atunci când Codul EORI expiră?","acceptedAnswer":{"@type":"Answer","text":"Se prelungește printr-o procedură similară cu actualizarea datelor. Putem ajuta cu prelungirea."}},
      {"@type":"Question","name":"Când trebuie să actualizez datele EORI?","acceptedAnswer":{"@type":"Answer","text":"Ori de câte ori se schimbă datele personale sau ale firmei: nume, adresă, sediu, cod CAEN etc."}}
    ]
  }
  </script>

</body>
</html>
